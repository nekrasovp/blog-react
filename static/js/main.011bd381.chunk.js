(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],Array(29).concat([function(e,t,a){e.exports=a(71)},,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),i=a(1),l=a(5);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(21),c=a(17),m=a(2),p=function(e,t){switch(t.type){case"ADD_LIKE":return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.postId?Object(m.a)(Object(m.a)({},e),{},{likedBy:[].concat(Object(c.a)(e.likedBy),[t.currentUser])}):e}))});case"REMOVE_LIKE":return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.map((function(e){if(e.id===t.postId){var a=[];return e.likedBy.filter((function(e){return e!==t.currentUser})).map((function(e){return a.push(e)})),Object(m.a)(Object(m.a)({},e),{},{likedBy:a})}return e}))});case"ADD_DISLIKE":return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.postId?Object(m.a)(Object(m.a)({},e),{},{dislikedBy:[].concat(Object(c.a)(e.dislikedBy),[t.currentUser])}):e}))});case"REMOVE_DISLIKE":return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.map((function(e){if(e.id===t.postId){var a=[];return e.dislikedBy.filter((function(e){return e!==t.currentUser})).map((function(e){return a.push(e)})),Object(m.a)(Object(m.a)({},e),{},{dislikedBy:a})}return e}))});case"PUBLISH_POST":var a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()),r={id:t.id,heading:t.title,publicationDatetime:n,author:t.author,likedBy:[],dislikedBy:[],text:t.text};return Object(m.a)(Object(m.a)({},e),{},{posts:[r].concat(Object(c.a)(e.posts))});case"REGISTER":return Object(m.a)(Object(m.a)({},e),{},{people:[].concat(Object(c.a)(e.people),[t.newUserInfo]),currentUser:t.newUserInfo.id});case"EXIT":return Object(m.a)(Object(m.a)({},e),{},{currentUser:null});case"ENTER":for(var s,o=0;o<e.people.length;o++)e.people[o].login===t.login&&(s=e.people[o].id);return Object(m.a)(Object(m.a)({},e),{},{currentUser:s});default:return e}},d=new Date,h={currentUser:null,posts:[{id:73952,heading:"Nostrud ullamco deserunt aute id consequat",publicationDatetime:new Date(d.getFullYear(),d.getMonth(),d.getDate()-1,d.getHours()+12,d.getMinutes()-3),author:94658,likedBy:[],dislikedBy:[94658,15979],text:"Sunt ad dolore quis aute consequat. Magna exercitation reprehenderit magna aute tempor cupidatat consequat elit dolor adipisicing. Mollit dolor eiusmod sunt ex incididunt cillum quis. Velit duis sit officia eiusmod Lorem aliqua enim laboris do dolor eiusmod. Et mollit incididunt nisi consectetur esse laborum eiusmod pariatur proident Lorem eiusmod et. Culpa deserunt nostrud ad veniam."},{id:79924,heading:"Sunt ad dolore quis aute consequat",publicationDatetime:new Date(d.getFullYear(),d.getMonth(),d.getDate()-1,d.getHours()+5,d.getMinutes()+26),author:94658,likedBy:[94658],dislikedBy:[15979],text:"Sunt ad dolore quis aute consequat. Magna exercitation reprehenderit magna aute tempor cupidatat consequat elit dolor adipisicing. Mollit dolor eiusmod sunt ex incididunt cillum quis. Velit duis sit officia eiusmod Lorem aliqua enim laboris do dolor eiusmod. Et mollit incididunt nisi consectetur esse laborum eiusmod pariatur proident Lorem eiusmod et. Culpa deserunt nostrud ad veniam."},{id:72340,heading:"Dolore incididunt mollit fugiat pariatur cupidatat",publicationDatetime:new Date(d.getFullYear(),d.getMonth(),d.getDate()-1,d.getHours()+2,d.getMinutes()-32),author:15979,likedBy:[15979,94658],dislikedBy:[],text:"Sunt ad dolore quis aute consequat. Magna exercitation reprehenderit magna aute tempor cupidatat consequat elit dolor adipisicing. Mollit dolor eiusmod sunt ex incididunt cillum quis. Velit duis sit officia eiusmod Lorem aliqua enim laboris do dolor eiusmod. Et mollit incididunt nisi consectetur esse laborum eiusmod pariatur proident Lorem eiusmod et. Culpa deserunt nostrud ad veniam."}],people:[{id:94658,name:"admin",surname:"admin",birthDate:new Date(2e3,1,1),login:"admin",password:"admin"},{id:15979,name:"test11",surname:"test11",birthDate:new Date(1990,1,1),login:"test11",password:"test11"}]},f=Object(u.b)(p,h),v=a(6),E=a(7),b=a(9),g=a(8),N=a(4),k=(a(38),function(e){return r.a.createElement("div",{className:"Header"},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-desktop","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))}),C=(a(39),function(e){return r.a.createElement("div",{className:"Menu"},r.a.createElement("div",{className:"menu-item"},r.a.createElement(i.c,{to:"/",exact:!0,className:"navLink one-line-link",activeClassName:"active-menu-item"},r.a.createElement("span",null,"Latest"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement(i.c,{to:"/posts",exact:!0,className:"navLink one-line-link",activeClassName:"active-menu-item"},r.a.createElement("span",null,"All"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement(i.c,{to:"/authors",exact:!0,className:"navLink one-line-link",activeClassName:"active-menu-item"},r.a.createElement("span",null,"Authors"))),e.auth?r.a.createElement("div",{className:"menu-item"},r.a.createElement(i.c,{to:"/new-post",className:"navLink one-line-link",activeClassName:"active-menu-item"},r.a.createElement("span",null,"Publish"))):null,r.a.createElement("div",{className:"menu-item"},r.a.createElement(i.c,{to:"/about",className:"navLink one-line-link",activeClassName:"active-menu-item"},r.a.createElement("span",null,"About"))),e.auth?r.a.createElement("div",{className:"menu-item"},r.a.createElement("div",{className:"menu-item_separate"},r.a.createElement(i.c,{to:"/my-profile",className:"navLink menu-item_separate-link",activeClassName:"active-menu-item"},"Profile")),r.a.createElement("div",{className:"menu-item_separate"},r.a.createElement(i.c,{to:"/exit",className:"navLink menu-item_separate-link",activeClassName:"active-menu-item"},"Signout"))):r.a.createElement("div",{className:"menu-item"},r.a.createElement("div",{className:"menu-item_separate"},r.a.createElement(i.c,{to:"/enter",className:"navLink menu-item_separate-link",activeClassName:"active-menu-item"},"Signin")),r.a.createElement("div",{className:"menu-item_separate"},r.a.createElement(i.c,{to:"/register",className:"navLink menu-item_separate-link",activeClassName:"active-menu-item"},"Join"))))}),y=(a(41),function(e){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"footer-menu-wrapper"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",exact:!0,className:"navLink footerNavLink"},"Latest")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/posts",exact:!0,className:"navLink footerNavLink"},"All")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/authors",exact:!0,className:"navLink footerNavLink"},"Authors")),e.auth?r.a.createElement("li",null,r.a.createElement(i.c,{to:"/new-post",className:"navLink footerNavLink"},"Publish")):null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/about",className:"navLink footerNavLink"},"About")),e.auth?r.a.createElement("li",null,r.a.createElement(i.c,{to:"/my-profile",className:"navLink footerNavLink"},"Profile")):r.a.createElement("li",null,r.a.createElement(i.c,{to:"/enter",className:"navLink footerNavLink"},"Signin")),e.auth?r.a.createElement("li",null,r.a.createElement(i.c,{to:"/exit",className:"navLink footerNavLink"},"Signout")):r.a.createElement("li",null,r.a.createElement(i.c,{to:"/register",className:"navLink footerNavLink"},"Join")))))}),O=(a(42),function(e){return r.a.createElement("div",{className:"Layout"},r.a.createElement("div",{className:"left-bar bar"}),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(k,null),r.a.createElement(C,{auth:e.user}),r.a.createElement("div",{className:"mainInfoWrapper"},e.children)),r.a.createElement(y,{auth:e.user})),r.a.createElement("div",{className:"right-bar bar"}))}),j=a(14);a(43);var x=function(e){return r.a.createElement("h2",{className:"SectionHeader"},r.a.createElement("span",null,e.headerText))};a(44);var L=function(e){var t=e.type||"text",a=e.maxLength||"",n="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:"Input"},"textarea"===t?r.a.createElement("div",{className:"Input"},r.a.createElement("label",{htmlFor:n},e.label),r.a.createElement("textarea",{id:n,value:e.value,onChange:e.onChange||null,maxLength:a,autoComplete:"on"})):r.a.createElement("div",{className:"Input"},r.a.createElement("label",{htmlFor:n},e.label),r.a.createElement("input",{id:n,value:e.value,type:e.type,maxLength:a,onChange:e.onChange||null,autoComplete:"on"})),function(e){var t=e.valid,a=e.touched,n=e.shouldValidate;return!t&&n&&a}(e)?r.a.createElement("p",{className:"inputErrorMessage"},e.errorMessage||"Enter valid information"):null)},D=(a(45),function(e){var t=e.onClick||null;return r.a.createElement("div",{className:"Button"},r.a.createElement("button",{type:e.type||"button",disabled:e.disabled,onClick:t},e.title))}),w=(a(46),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).submitHandler=function(e){e.preventDefault()},n.isRightAuthData=function(e,t){for(var a=n.props.people,r=0;r<a.length;r++)if(a[r].login===e&&a[r].password===t)return!0;return!1},n.validateControls=function(){var e=n.state.formControls,t=e.login,a=e.password;n.isRightAuthData(t.value,a.value)?n.props.enter(t.value):n.setState({showAuthError:!0})},n.validateControl=function(e){return""!==e.trim()},n.onChangeHandler=function(e,t){var a=Object(m.a)({},n.state.formControls),r=Object(m.a)({},a[t]);r.value=e.target.value,r.touched=!0,r.valid=n.validateControl(r.value),a[t]=r;var s=!0;Object.keys(a).forEach((function(e){s=a[e].valid&&s})),n.setState({formControls:a,isFormValid:s})},n.state={isFormValid:!1,showAuthError:!1,formControls:{login:{value:"",type:"text",label:"Login",errorMessage:"Enter login",valid:!1,touched:!1,validation:{required:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter password",valid:!1,touched:!1,validation:{required:!0}}}},n.onChangeHandler=n.onChangeHandler.bind(Object(j.a)(n)),n}return Object(E.a)(a,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,a){var n=e.state.formControls[t];return r.a.createElement(L,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Enter"},r.a.createElement(x,{headerText:"Welcome back"}),r.a.createElement("form",{onSubmit:this.submitHandler},this.renderInputs(),this.state.showAuthError?r.a.createElement("p",{className:"enterErrorMessage"}):null,r.a.createElement(D,{title:"Continue",type:"button",disabled:!this.state.isFormValid,onClick:this.validateControls})))}}]),a}(r.a.Component));var I=Object(l.b)((function(e){return{people:e.people}}),(function(e){return{enter:function(t){return e(function(e){return{type:"ENTER",login:e}}(t))}}}))(w);function P(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return!0;return!1}function M(e){var t=e.getDate()+".";return t=e.getMonth()<9?t+"0"+(e.getMonth()+1)+".":t+(e.getMonth()+1)+".",t+=e.getFullYear()}function A(e){var t=e.getHours()+":";return e.getMinutes()<10?t=t+"0"+e.getMinutes():t+=e.getMinutes(),t}function U(){return Math.floor(9e4*Math.random())+1e4}a(47);var _=function(e){return r.a.createElement("div",{className:"ButtonWithArrow"},r.a.createElement("button",null,e.title),r.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true"}))},q=(a(48),function(e){return r.a.createElement("div",{className:"ErrorMessage"},r.a.createElement("i",{className:"fa fa-exclamation","aria-hidden":"true"}),r.a.createElement("h2",null,"Error"),r.a.createElement("p",null,e.errorMessage),r.a.createElement(i.b,{to:e.link},r.a.createElement(_,{title:e.buttonText})))}),H=(a(49),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).likeClick=function(){P(e.getCurrentPost().likedBy,e.props.currentUser)?e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"REMOVE_LIKE"):(P(e.getCurrentPost().dislikedBy,e.props.currentUser)&&e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"REMOVE_DISLIKE"),e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"ADD_LIKE"))},e.dislikeClick=function(){P(e.getCurrentPost().dislikedBy,e.props.currentUser)?e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"REMOVE_DISLIKE"):(P(e.getCurrentPost().likedBy,e.props.currentUser)&&e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"REMOVE_LIKE"),e.props.changeLikeAction(e.props.currentUser,+e.props.match.params.id,"ADD_DISLIKE"))},e.findAuthor=function(t){for(var a=e.props.authors,n=0;n<a.length;n++)if(a[n].id===t)return a[n]},e}return Object(E.a)(a,[{key:"getCurrentPost",value:function(){var e=this;return this.props.posts.find((function(t){return t.id===+e.props.match.params.id}))}},{key:"render",value:function(){var e=this,t=null!==this.props.currentUser?{display:"none"}:{},a=this.getCurrentPost()?this.findAuthor(this.getCurrentPost().author):null;return this.getCurrentPost()?r.a.createElement("div",{className:"PostDetailsWrapper"},r.a.createElement("div",{className:"PostDetails"},r.a.createElement("h2",{className:"postDetails__heading"},this.getCurrentPost().heading),r.a.createElement("div",{className:"postDetails-info"},r.a.createElement(i.b,{to:"/authors/"+a.id},r.a.createElement("p",{className:"postDetails__author",onClick:function(){e.props.history.push("/authors/"+a.id)}},a.name," ",a.surname)),r.a.createElement("p",{className:"postDetails__date"},M(this.getCurrentPost().publicationDatetime),"\u2003",A(this.getCurrentPost().publicationDatetime))),r.a.createElement("p",{className:"postDetails__text"},this.getCurrentPost().text)),r.a.createElement("div",{className:"like-block"},r.a.createElement("h2",null,"Rate post:"),r.a.createElement("div",{className:"vote-block"},r.a.createElement("span",{className:"likes"},this.getCurrentPost().likedBy.length,"\u2002",P(this.getCurrentPost().likedBy,this.props.currentUser)?r.a.createElement("i",{className:"fa fa-thumbs-up",onClick:null!==this.props.currentUser?this.likeClick:null}):r.a.createElement("i",{className:"fa fa-thumbs-o-up",onClick:null!==this.props.currentUser?this.likeClick:null})),r.a.createElement("span",{className:"dislikes"},this.getCurrentPost().dislikedBy.length,"\u2002",P(this.getCurrentPost().dislikedBy,this.props.currentUser)?r.a.createElement("i",{className:"fa fa-thumbs-down",onClick:null!==this.props.currentUser?this.dislikeClick:null}):r.a.createElement("i",{className:"fa fa-thumbs-o-down",onClick:null!==this.props.currentUser?this.dislikeClick:null}))),r.a.createElement("p",{className:"likeWarning",style:t},"Enter or register for rating"))):r.a.createElement(q,{errorMessage:"Post not found",buttonText:"Go to latest posts",link:"/posts/"})}}]),a}(r.a.Component));var B=Object(l.b)((function(e){return{posts:e.posts,currentUser:e.currentUser,authors:e.people}}),(function(e){return{changeLikeAction:function(t,a,n){return e(function(e,t,a){return{type:a,currentUser:e,postId:t}}(t,a,n))}}}))(H),S=(a(50),new Date),T=new Date(S.getFullYear()-14,S.getMonth(),S.getDate()),V=new Date(1900,0,1),F=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).stringToDate=function(e){return new Date(e.slice(0,4),e.slice(5,7)-1,e.slice(8,10))},n.isLoginUnique=function(e){for(var t=n.props.people,a=0;a<t.length;a++)if(t[a].login.toLowerCase()===e.toLowerCase())return!1;return!0},n.submitHandler=function(e){e.preventDefault()},n.validateControl=function(e,t){if(!t)return!0;var a=!0;if(t.required&&(a=""!==e.trim()&&a),t.date){var r=n.stringToDate(e);a=r>=V&&r<T&&a}return t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.uniqueLogin&&(a=n.isLoginUnique(e)&&a),a},n.onChangeHandler=function(e,t){var a=Object(m.a)({},n.state.formControls),r=Object(m.a)({},a[t]);r.value=e.target.value,r.touched=!0,r.valid=n.validateControl(r.value,r.validation),a[t]=r;var s=!0;Object.keys(a).forEach((function(e){s=a[e].valid&&s})),n.setState({formControls:a,isFormValid:s})},n.enter=function(){var e=n.state.formControls.birthDate.value,t=n.stringToDate(e),a={id:U(),name:n.state.formControls.name.value,surname:n.state.formControls.surname.value,birthDate:t,login:n.state.formControls.login.value,password:n.state.formControls.password.value};n.props.register(a)},n.state={isFormValid:!1,formControls:{name:{value:"",type:"text",label:"Name",errorMessage:"Enter name",valid:!1,touched:!1,validation:{required:!0}},surname:{value:"",type:"text",label:"Surname",errorMessage:"Enter surname",valid:!1,touched:!1,validation:{required:!0}},birthDate:{value:"",type:"date",label:"Birth date",errorMessage:"Choose birth day",valid:!1,touched:!1,validation:{required:!0,date:!0,maxDate:T,minDate:V}},login:{value:"",type:"text",label:"Login",errorMessage:"Login is already registered",valid:!1,touched:!1,validation:{required:!0,uniqueLogin:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Password must be at least 6 charecters long",valid:!1,touched:!1,validation:{required:!0,minLength:6,maxLength:30}}}},n.onChangeHandler=n.onChangeHandler.bind(Object(j.a)(n)),n}return Object(E.a)(a,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,a){var n=e.state.formControls[t];return r.a.createElement(L,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"renderHeading",value:function(){var e=this.props.people;return r.a.createElement("p",null,"join our community of ",e.length," amazing bloggers.")}},{key:"render",value:function(){return r.a.createElement("div",{className:"Register"},r.a.createElement(x,{headerText:"Welcome"}),this.renderHeading(),r.a.createElement("form",{onSubmit:this.submitHandler},this.renderInputs(),r.a.createElement(D,{type:"button",title:"Continue",disabled:!this.state.isFormValid,onClick:this.enter})))}}]),a}(r.a.Component);var R=Object(l.b)((function(e){return{people:e.people,currentUser:e.currentUser}}),(function(e){return{register:function(t){return e(function(e){return{type:"REGISTER",newUserInfo:e}}(t))}}}))(F),W=(a(51),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).exitHandler=function(){e.props.exit()},e}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Exit"},r.a.createElement(x,{headerText:"Signout"}),r.a.createElement("div",{className:"ExitQuestionWrapper"},r.a.createElement("p",{className:"ExitQuestion"},"Are you sure you wanna exit?"),r.a.createElement(D,{type:"button",title:"Yes",onClick:this.exitHandler}),r.a.createElement(i.b,{to:"/"},r.a.createElement(D,{type:"button",title:"No"}))))}}]),a}(r.a.Component));var Y=Object(l.b)(null,(function(e){return{exit:function(){return e({type:"EXIT"})}}}))(W),K=(a(52),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).addEllipsis=function(e){return e+"..."},e.mainCutter=function(t,a){return t.length<=a?t:e.addEllipsis(t.slice(0,a))},e}return Object(E.a)(a,[{key:"getCurrentAuthor",value:function(){var e=this;return this.props.people.find((function(t){return t.id===e.props.postInfo.author}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Post",key:this.props.key},r.a.createElement(i.b,{to:"/posts/"+this.props.postInfo.id},r.a.createElement("h3",{className:"post__heading",onClick:function(){return e.props.history.push("/posts/"+e.props.postInfo.id)}},this.props.postInfo.heading)),r.a.createElement("div",{className:"post-info"},r.a.createElement(i.b,{to:"/authors/"+this.getCurrentAuthor().id},r.a.createElement("p",{className:"post__author",onClick:function(){e.props.history.push("/authors/"+e.getCurrentAuthor().id)}},this.getCurrentAuthor().name," ",this.getCurrentAuthor().surname)),r.a.createElement("p",{className:"post__date"},M(this.props.postInfo.publicationDatetime),"\u2003",A(this.props.postInfo.publicationDatetime))),r.a.createElement("p",{className:"post__text"},this.mainCutter(this.props.postInfo.text,900)))}}]),a}(r.a.Component));var G=Object(N.g)(Object(l.b)((function(e){return{posts:e.posts,people:e.people,user:e.currentUser}}))(K)),J=(a(53),function(e){return r.a.createElement("div",{className:"AllPosts"},r.a.createElement(x,{headerText:"All posts"}),r.a.createElement("div",{className:"posts-wrapper"},e.posts.map((function(e,t){return r.a.createElement(G,{postInfo:e,key:t})}))))}),Q=(a(54),Object(N.g)((function(e){return r.a.createElement("div",{className:"Author"},r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),r.a.createElement("div",{className:"authorInfo"},r.a.createElement(i.b,{to:"/authors/"+e.authorInfo.id},r.a.createElement("h3",{className:"fullName",onClick:function(){return e.history.push("/authors/"+e.authorInfo.id)}},e.authorInfo.name," ",e.authorInfo.surname)),r.a.createElement("p",{className:"birthDate"},"Birth date: ",M(e.authorInfo.birthDate)),r.a.createElement("p",{className:"login"},"Login: ",e.authorInfo.login)))}))),X=(a(55),function(e){return r.a.createElement("div",{className:"AllAuthors"},r.a.createElement(x,{headerText:"Authors"}),r.a.createElement("div",{className:"authors-wrapper"},function(){var t=function(){for(var t=[],a=0;a<e.posts.length;a++)P(t,e.posts[a].author)||t.push(e.posts[a].author);return t}();return e.people.filter((function(e){return P(t,e.id)})).map((function(e,t){return r.a.createElement(Q,{key:t,authorInfo:e})}))}()))}),z=(a(56),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"getCurrentAuthor",value:function(){var e=this;return this.props.people.find((function(t){return t.id===+e.props.match.params.id}))}},{key:"renderPosts",value:function(){var e=this;return this.props.posts.filter((function(t){return t.author===e.getCurrentAuthor().id})).map((function(e,t){return r.a.createElement(G,{postInfo:e,key:t})}))}},{key:"render",value:function(){return this.getCurrentAuthor()?r.a.createElement("div",{className:"AuthorDetails"},r.a.createElement("h1",{className:"authorDetails__heading"},this.getCurrentAuthor().name," ",this.getCurrentAuthor().surname),r.a.createElement("div",{className:"authorDetails-info"},r.a.createElement("p",{className:"authorDetails__date"},"Birt day: ",M(this.getCurrentAuthor().birthDate)),r.a.createElement("p",{className:"authorDetails__date"},"Login: ",this.getCurrentAuthor().login)),r.a.createElement("h2",null,"Author posts:"),r.a.createElement("div",{className:"authorPosts"},this.renderPosts())):r.a.createElement(q,{errorMessage:"Author not found",buttonText:"Go to Authors page",link:"/authors/"})}}]),a}(r.a.Component));var $=Object(l.b)((function(e){return{people:e.people,posts:e.posts}}))(z),Z=(a(57),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).submitHandler=function(e){e.preventDefault()},n.createNewPost=function(){var e=n.state.formControls.postHeader.value,t=n.state.formControls.postText.value;n.props.publishPost(n.state.newPostId,n.props.author,e,t),n.setState({isPublished:!0})},n.publishAgain=function(){n.setState({isFormValid:!1,isPublished:!1,newPostId:U(),formControls:{postHeader:{value:"",type:"text",label:"Title",errorMessage:"Enter post title",valid:!1,touched:!1,validation:{required:!0,maxLength:110}},postText:{value:"",type:"textarea",label:"Text",errorMessage:"Enter post text",valid:!1,touched:!1,validation:{required:!0,maxLength:5e3}}}})},n.validateControl=function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),a},n.onChangeHandler=function(e,t){var a=Object(m.a)({},n.state.formControls),r=Object(m.a)({},a[t]);r.value=e.target.value,r.touched=!0,r.valid=n.validateControl(r.value,r.validation),a[t]=r;var s=!0;Object.keys(a).forEach((function(e){s=a[e].valid&&s})),n.setState({formControls:a,isFormValid:s})},n.state={isFormValid:!1,isPublished:!1,newPostId:U(),formControls:{postHeader:{value:"",type:"text",label:"Title",errorMessage:"Enter post title",valid:!1,touched:!1,validation:{required:!0,maxLength:110}},postText:{value:"",type:"textarea",label:"Text",errorMessage:"Enter post text",valid:!1,touched:!1,validation:{required:!0,maxLength:5e3}}}},n.createNewPost=n.createNewPost.bind(Object(j.a)(n)),n.publishAgain=n.publishAgain.bind(Object(j.a)(n)),n.onChangeHandler=n.onChangeHandler.bind(Object(j.a)(n)),n}return Object(E.a)(a,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,a){var n=e.state.formControls[t];return r.a.createElement(L,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"NewPostWrapper"},r.a.createElement(x,{headerText:"Publish post"}),this.state.isPublished?r.a.createElement("div",{className:"publishMessage"},r.a.createElement("p",null,"Post\u2002",r.a.createElement("i",{className:"fa fa-quote-left","aria-hidden":"true"}),r.a.createElement("span",null,this.state.formControls.postHeader.value),r.a.createElement("i",{className:"fa fa-quote-right","aria-hidden":"true"}),"\u2002published and available at:"),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/posts/"+this.state.newPostId},"/posts/",this.state.newPostId)),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/new-post"},r.a.createElement(D,{title:"Publish another post",withArrow:!0,onClick:this.publishAgain})))):r.a.createElement("div",{className:"NewPost"},r.a.createElement("form",{onSubmit:this.submitHandler},this.renderInputs(),r.a.createElement(D,{type:"button",title:"Publish",onClick:this.createNewPost,disabled:!this.state.isFormValid}))))}}]),a}(r.a.Component));var ee=Object(l.b)((function(e){return{author:e.currentUser}}),(function(e){return{publishPost:function(t,a,n,r){return e(function(e,t,a,n){return{type:"PUBLISH_POST",id:e,author:t,title:a,text:n}}(t,a,n,r))}}}))(Z),te=(a(58),function(e){return r.a.createElement("div",{className:"LatestPosts"},r.a.createElement(x,{headerText:"Latest posts"}),e.posts.filter((function(e){return function(e){var t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,t.getHours(),t.getMinutes()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());return e>=a&&e<=n}(e.publicationDatetime)})).map((function(e,t){return r.a.createElement(G,{postInfo:e,key:t})})))}),ae=(a(59),function(e){var t=function(){return e.people.find((function(t){return t.id===e.user}))};return r.a.createElement("div",{className:"MyProfile"},r.a.createElement(x,{headerText:"Your profile"}),r.a.createElement("div",{className:"profile-info"},r.a.createElement("i",{className:"fa fa-user-circle","aria-hidden":"true"}),r.a.createElement("p",{className:"user-birthDate"},"Name: ",t().name),r.a.createElement("p",{className:"user-birthDate"},"Surname: ",t().surname),r.a.createElement("p",{className:"user-birthDate"},"Id: ",t().id),r.a.createElement("p",{className:"user-birthDate"},"Birthday: ",M(t().birthDate)),r.a.createElement("p",{className:"user-birthDate"},"Login: ",t().login),r.a.createElement("p",{className:"user-birthDate"},"Password: ",t().password)),r.a.createElement("div",{className:"yourPostsWrapper"},r.a.createElement("h3",null,"Your posts:"),r.a.createElement("div",{className:"yourPosts"},function(){var a=e.posts.filter((function(e){return e.author===t().id}));return a.length>0?a.map((function(e,t){return r.a.createElement(G,{postInfo:e,key:t})})):r.a.createElement("p",{className:"noPosts"},"no posts yet")}())),r.a.createElement("div",{className:"likedPostsWrapper"},r.a.createElement("h3",null,"Liked posts:"),r.a.createElement("div",{className:"likedPosts"},function(){var t=e.posts.filter((function(t){return P(t.likedBy,e.user)}));return t.length>0?t.map((function(e,t){return r.a.createElement(G,{postInfo:e,key:t})})):r.a.createElement("p",{className:"noPosts"},"no liked posts yet")}())))}),ne=a(28),re=a.n(ne),se=(a(68),function(){return r.a.createElement("div",{className:"About"},r.a.createElement(x,{headerText:"About"}),r.a.createElement(re.a,null))}),oe=(a(69),function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(O,{user:this.props.currentUser},null!==this.props.currentUser?r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/posts",exact:!0,render:function(){return r.a.createElement(J,{posts:e.props.posts})}}),r.a.createElement(N.b,{path:"/posts/:id",component:B}),r.a.createElement(N.b,{path:"/authors",exact:!0,render:function(){return r.a.createElement(X,{posts:e.props.posts,people:e.props.people})}}),r.a.createElement(N.b,{path:"/authors/:id",component:$}),r.a.createElement(N.b,{path:"/about",component:se}),r.a.createElement(N.b,{path:"/new-post",component:ee}),r.a.createElement(N.b,{path:"/exit",component:Y}),r.a.createElement(N.b,{path:"/my-profile",render:function(){return r.a.createElement(ae,{posts:e.props.posts,people:e.props.people,user:e.props.currentUser})}}),r.a.createElement(N.b,{path:"/",exact:!0,render:function(){return r.a.createElement(te,{posts:e.props.posts})}}),r.a.createElement(N.a,{to:"/"})):r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/posts",exact:!0,render:function(){return r.a.createElement(J,{posts:e.props.posts})}}),r.a.createElement(N.b,{path:"/posts/:id",component:B}),r.a.createElement(N.b,{path:"/authors",exact:!0,render:function(){return r.a.createElement(X,{posts:e.props.posts,people:e.props.people})}}),r.a.createElement(N.b,{path:"/authors/:id",component:$}),r.a.createElement(N.b,{path:"/about",component:se}),r.a.createElement(N.b,{path:"/enter",component:I}),r.a.createElement(N.b,{path:"/register",component:R}),r.a.createElement(N.b,{path:"/",exact:!0,render:function(){return r.a.createElement(te,{posts:e.props.posts})}}),r.a.createElement(N.a,{to:"/"})))}}]),a}(r.a.Component)),ie=Object(l.b)((function(e){return{currentUser:e.currentUser,posts:e.posts,people:e.people}}))(oe);a(70);o.a.render(r.a.createElement(i.a,null,r.a.createElement(l.a,{store:f},r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[29,1,2]]]);